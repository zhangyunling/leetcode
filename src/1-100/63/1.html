<html>
<head>
<meta charset="utf8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="robots" content="all">
<meta name="baiduspider" content="all">
<meta name="googlebot" content="all">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta name="renderer" content="webkit">
<title>测试</title>
</head>
<body>
</body>
<script>
/**
 * @param {number[][]} obstacleGrid
 * @return {number}
 */
var uniquePathsWithObstacles = function(obstacleGrid) {
  var m = obstacleGrid.length;
  var n = (obstacleGrid[0] || []).length;
  var cache = {}
  var i = 2;
  var j = 1;
  var key = '';
  var getV = function (x, y) {
    return cache[x + '-' + y] || cache[y + '-' + x];
  }
  var d = 1;
  // 初始化第一行；
  while (j <= n) {
    key = '1-' + j;

    if (obstacleGrid[0][j-1] != 1) {
      cache[key] = d;
    } else {
      d = 0;
      cache[key] = d;
    }
    
    j++;
  }

  while (i <= n) {
    j = i;
    while (j <= m) {
      key = i + '-' + j;
      if (obstacleGrid[i-1][j-1] != 1) {
        cache[key] = getV(i - 1, j) + getV(i, j - 1);
      } else {
        cache[key] = 0;
      }
      j++;
    }
    i++;
  }
  console.log(cache);
  return cache[m + '-' + n]
};

var start = Date.now();

//  console.log(uniquePathsWithObstacles([
//   [0,0,0],
//   [0,1,0],
//   [0,0,0]
// ]), 2);
//  console.log(uniquePathsWithObstacles([[0,0]]), 1);
//  console.log(uniquePathsWithObstacles([[1,0]]), 0);
 console.log(uniquePathsWithObstacles([[0],[0]]), 0);

console.log((Date.now() - start)/1000);

</script>
</html>