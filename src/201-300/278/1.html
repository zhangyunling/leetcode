<html>
<head>
<meta charset="utf8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="robots" content="all">
<meta name="baiduspider" content="all">
<meta name="googlebot" content="all">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta name="renderer" content="webkit">
<title>测试</title>
</head>
<body>
</body>
<script>
/**
 * Definition for isBadVersion()
 * 
 * @param {integer} version number
 * @return {boolean} whether the version is bad
 * isBadVersion = function(version) {
 *     ...
 * };
 */

/**
 * @param {function} isBadVersion()
 * @return {function}
 */
var solution = function(isBadVersion) {
    /**
     * @param {integer} n Total versions
     * @return {integer} The first bad version
     */
    return function(n) {
        var min = 1;
        var max = n;
        var v = 0;

        if(isBadVersion(min)){
        	return min;
        }

        while(min < max){
        	v = Math.floor(max / 2 - min / 2);

        	if(v == 0){
        		break;
        	}

        	v = min + v;

        	if(isBadVersion(v)){
        		max = v;
        	} else {
        		min = v;
        	}
        }

        return min;
    };
};

var start = Date.now();

console.log(missingNumber([3,0,1]), '2');
console.log(missingNumber([9,6,4,2,3,5,7,0,1]), '8');

console.log((Date.now() - start)/1000);
</script>
</html>