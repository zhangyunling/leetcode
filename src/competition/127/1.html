<html>
<head>
<meta charset="utf8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="robots" content="all">
<meta name="baiduspider" content="all">
<meta name="googlebot" content="all">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta name="renderer" content="webkit">
<title>测试</title>
<style>

</style>
</head>
<body>
</body>
<script>
/**
 * @param {number[]} A
 * @param {number} K
 * @return {number}
 */
var largestSumAfterKNegations = function(A, K) {
    A.sort(function(p1, p2){
    	return p1 - p2;
    });
    var i = 0;
   	var min = A[i];
   	var v = 0;
   	var sum = 0;
   	var len = A.length;
   	var flag = 1;

   	if(min < 0){
   		while(i < K){
	    	v = A[i];

	    	if(v < 0){
	    		A[i] = 0 - v;
	    	} else {
	    		break;
	    	}
	    	i++;
	    }

	    A.sort(function(p1, p2){
	    	return p1 - p2;
	    });

	    while(i < K){
	    	flag *= -1;
	    	i++;
	    }
	    A[0] = flag*A[0];
	    i = 0;
	    while(i< K){
	    	sum += A[i];
	    	i++;
	    }
   	} else if(min > 0){
   		while(i < K){
   			A[0] = 0 - A[0];
   			i++;
   		}
   		i = 0;
	    while(i< K){
	    	sum += A[i];
	    	i++;
	    }
   	}

   	// 先把前几个过滤之后，后面的直接相加
   	while(i < len){
   		sum += A[i];
   		i++;
   	} 

    return sum;
};

var start = Date.now();

console.log(largestSumAfterKNegations([4,2,3], 1), '5')
console.log(largestSumAfterKNegations([3,-1,0,2], 3), '6')
console.log(largestSumAfterKNegations([2,-3,-1,5,-4], 2), '13')
console.log(largestSumAfterKNegations([1,3,2,6,7,9], 3), '26')


console.log((Date.now() - start)/1000);
</script>
</html>