<html>
<head>
<meta charset="utf8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="keywords" content="测试加密">
<meta name="description" content="测试加密">
<meta name="robots" content="all">
<meta name="baiduspider" content="all">
<meta name="googlebot" content="all">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta name="renderer" content="webkit">
<title>测试</title>
</head>
<body>
</body>
<script>
/**
 * @param {number[]} nums
 * @return {void} Do not return anything, modify nums in-place instead.
 */
var nextPermutation = function(nums) {
    var len = nums.length;
    if(len <= 1){
        return nums;
    }
    var p1 = 0;
    var p2 = 0;
    var i = 0;
    var flag = 0;
    var arr = null;
    var j = 0;
    var jj = 0;

    i = len - 2;

    while(i >= 0){
        p1 = nums[i];
        p2 = nums[i+1];
        
        if(p1 < p2){
            j = i+1;
            jj = j;
            while(j < len){
                if(p2 > nums[j] && nums[j] > p1){
                    p2 = nums[j];
                    jj = j;
                }
                j++;
            }

            flag = true;
            nums[i] = p2;
            nums[jj] = p1;

            for(j= i+1;j < len-1;j++){
                for(jj=j+1; jj<len;jj++){
                    p1 = nums[j];
                    p2 = nums[jj];

                    if(p1 > p2){
                        nums[j] = p2;
                        nums[jj] = p1;
                    }
                }
            }

            break;
        }

        i--;
    }

    if(!flag){
        nums.reverse();
    }

    return nums;
};

var start = Date.now();
 console.log(nextPermutation([3,2,1]), [1,2,3]);
 console.log(nextPermutation([1,3,2]), [2,1,3]);
 console.log(nextPermutation([1,2,3]), [1,3,2]);
 console.log(nextPermutation([3,2,1]), [1,2,3]);
 console.log(nextPermutation([1,1,5]), [1,5,1]);
 console.log(nextPermutation([100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1]), [3,1,2]);



console.log((Date.now() - start)/1000);

</script>
</html>